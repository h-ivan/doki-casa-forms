<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="format-detection" content="telephone=no">
    <link rel="shortcut icon" href="#"/>
    <link href="../styles.css" rel="stylesheet">
    <title>DokiCasa</title>
</head>
<!--HEADER-->
<body class="body">
<div class="heading-container">
    <div class="heading-content">
        <img class="doki-logo" width="190" height="76" src="../img/logo-dokicasa.svg" alt="Doki Casa Logo">
        <div class="flex items-center">
            <button class="primary-button text-[20px] sm:text-[14px] bg-custom-light-grey text-custom-blue mr-4 hover:brightness-90">
                Area personale
            </button>
            <div class="text-custom-dark-grey italic">Esci</div>
        </div>
    </div>
</div>
<!--/HEADER-->
<!--CONTENT-->
<div class="content-section">
    <div class="content-flex-wrapper">
        <div>
            <h2 class="content-title-card text-[26px] sm:text-base">
                Ciao Nicolo!
            </h2>
            <p class="info-small text-custom-dark-green sm:hidden">
                Hai bisogno di supporto? Scrivi a <a class="font-medium" href="mailto:servizi@dokicasa.it">servizi@dokicasa.it</a>
                oppure contattaci
            </p>
            <div class="content-container-contratti">
                <div class="flex grow gap-x-6 sm:gap-x-2">
                    <button class="documento-button bg-custom-dark-green">
                        CREA
                        NUOVO
                        DOCUMENTO
                    </button>
                    <input class="search-input">
                </div>
                <select class="border-none shadow-md h-[58px] sm:h-[46px] bg-custom-light-grey md:w-full custom-select"
                        id="select-1">
                    <option disabled selected>Filtra i documenti</option>
                    <option value="option-1">option 1</option>
                    <option value="option-2">option 2</option>
                </select>
            </div>
        </div>

    </div>
    <div class="flex gap-x-8 mb-12 lg:flex-col lg:gap-y-8 items-start lg:items-stretch">
        <div id="sidebar-flex-container" class="flex flex-col gap-x-1 relative">
            <div id="sidebar-menu" class="sidebar-menu">
                <ul>
                    <li class="sidebar-item-container pt-1">
                        <a href="#" class="sidebar-item">
                            <span class="ml-3">Profilo</span>
                        </a>
                    </li>
                    <li class="sidebar-item-container">
                        <a href="#" class="sidebar-item">
                            <span class="ml-3">Contratti</span>
                        </a>
                    </li>
                    <li class="sidebar-item-container">
                        <a href="#" class="sidebar-item">
                            <span class="ml-3">Firme Digitali</span>
                        </a>
                    </li>
                    <li id="selected" class="sidebar-item-container">
                        <a href="#" class="sidebar-item">
                            <span class="ml-3">Pratiche</span>
                        </a>
                    </li>
                    <li class="sidebar-item-container">
                        <a href="#" class="sidebar-item">
                            <span class="ml-3">Canone Concordato</span>
                        </a>
                    </li>
                    <li class="sidebar-item-container">
                        <a href="#" class="sidebar-item">
                            <span class="ml-3">Crediti</span>
                        </a>
                    </li>
                    <li class="pb-1">
                        <a href="#" class="sidebar-item">
                            <span class="ml-3">Pagamenti</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div id="sidebar-toggle" class="sidebar-arrow-container sidebar-arrow-closed">
                <img id="arrow" class="mx-auto h-full align-middle" src="../img/select-arrow.svg" width="20" height="12"
                     alt="menu-toggle">
            </div>
        </div>
        <div class="grid grid-cols-1 grow gap-4">
            <div class="contratti-card min-h-[100px] h-[100px] sm:h-[200px]">
                <div class="flex justify-between mr-4 sm:flex-col sm:justify-start">
                    <div class="px-8 sm:px-4 py-4">
                        <p class="text-custom-blue font-medium text-[18px] sm:text-[14px] mb-1">Prima Registrazione
                            Contratto
                            Locazione </p>
                        <p class="text-custom-grey text-[14px] sm:text-[12px]">#5929 Creato il: 22/01/2022</p>
                    </div>
                    <div class="flex flex-col gap-1 mt-2 sm:-mt-[30px] xs:-mt-[40px]  ">
                        <button class="secondary-button text-[14px] ml-auto text-custom-grey py-1 px-4 sm:px-3 mb-2 card-open">
                            Dettagli
                        </button>
                        <img class="ml-auto rotate-180 card-close hidden mt-[13px] mb-4 mr-1"
                             src="../img/select-arrow.svg"
                             width="20"
                             height="12"
                             alt="card-toggle">
                        <button class="primary-button text-[14px] ml-auto bg-custom-dark-blue py-1 px-4 xs:px-3">Sblocca
                            la procedura
                        </button>
                    </div>
                </div>
                <div class="hidden px-8 border-t border-custom-grey mt-4 hidden card-full">
                    <p>Informazioni</p>
                </div>
            </div>

            <div class="contratti-card min-h-[100px] h-[100px] sm:h-[200px]">
                <div class="flex justify-between mr-4 sm:flex-col sm:justify-start">
                    <div class="px-8 sm:px-4 py-4">
                        <p class="text-custom-blue font-medium text-[18px] sm:text-[14px] mb-1">Prima Registrazione
                            Contratto
                            Locazione </p>
                        <p class="text-custom-grey text-[14px] sm:text-[12px]">#5929 Creato il: 22/01/2022</p>
                    </div>
                    <div class="flex flex-col gap-1 mt-2 sm:-mt-[30px] xs:-mt-[40px]  ">
                        <button class="secondary-button text-[14px] ml-auto text-custom-grey py-1 px-4 sm:px-3 mb-2 card-open">
                            Dettagli
                        </button>
                        <img class="ml-auto rotate-180 card-close hidden mt-[13px] mb-4 mr-1"
                             src="../img/select-arrow.svg"
                             width="20"
                             height="12"
                             alt="card-toggle">
                        <button class="primary-button text-[14px] ml-auto bg-custom-dark-blue py-1 px-4 xs:px-3">Sblocca
                            la procedura
                        </button>
                    </div>
                </div>
                <div class="hidden px-8 border-t border-custom-grey mt-4 hidden card-full">
                    <p>Informazioni</p>
                </div>
            </div>

        </div>
    </div>
    <div class="chat-button-container">
        <button class="chat-button"></button>
    </div>
</div>
<!--/CONTENT-->
<!--FOOTER-->
<footer class="footer-container">
    <div class="footer-content">
        <p>Dokidoc SRL - P.IVA 12248530011</p>
        <p class="mx-2">|</p>
        <div class="flex">
            <img class="self-center mr-1" src="../img/icon-whatsapp.svg" width="13" height="13" alt="Whatsapp Icon">
            <p>347 9026514</p>
        </div>
    </div>
</footer>
<!--/FOOTER-->
<script>
    window.addEventListener('DOMContentLoaded', () => {
        const selected = document.getElementById("selected");
        const toggler = document.getElementById("sidebar-toggle");
        const mediaQuery = window.matchMedia('(max-width: 1020px)');
        const menu = document.getElementsByClassName('sidebar-menu')[0];

        selected.scrollIntoView();

        mediaQuery.addEventListener('change', function (e) {
            selected.scrollIntoView();
        });

        selected.addEventListener('click', function () {
            if (mediaQuery.matches === true && toggler.classList.contains('sidebar-arrow-closed')) {
                toggler.dispatchEvent(new Event("click"));
            }
        });

        toggler.addEventListener('click', function () {
            this.x = ((this.x || 0) + 1) % 2;
            if (this.x) {
                menu.classList.add('sidebar-menu-open');
                toggler.classList.remove('sidebar-arrow-closed');
            } else {
                menu.classList.remove('sidebar-menu-open');
                toggler.classList.add('sidebar-arrow-closed');
            }
        });

        // CARD TOGGLE

        const cardOpen = document.getElementsByClassName("card-open");
        const cardClose = document.getElementsByClassName("card-close");

        [].forEach.call(cardOpen, function (e) {
            const card = e.closest(".contratti-card");
            const cardFull = e.parentElement.parentElement.nextElementSibling;
            const cardCloseButton = e.nextElementSibling;
            e.addEventListener('click', function () {
                card.classList.add('contratti-card-open');
                cardCloseButton.classList.remove('hidden');
                e.classList.add('hidden');
                cardFull.classList.remove('hidden');
            });
        });

        [].forEach.call(cardClose, function (e) {
            const card = e.closest(".contratti-card");
            const cardOpenButton = e.previousElementSibling;
            const cardFull = e.parentElement.parentElement.nextElementSibling;
            e.addEventListener('click', function () {
                card.classList.remove('contratti-card-open');
                cardOpenButton.classList.remove('hidden');
                e.classList.add('hidden');
                cardFull.classList.add('hidden');
            });
        });


    });
</script>
</body>
</html>